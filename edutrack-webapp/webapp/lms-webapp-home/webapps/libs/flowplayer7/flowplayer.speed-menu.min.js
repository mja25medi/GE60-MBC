/*!

   Speed menu plugin for Flowplayer HTML5

   Copyright (c) 2017, Flowplayer Drive Oy

   Released under the MIT License:
   http://www.opensource.org/licenses/mit-license.php

   Requires Flowplayer HTML5 version 7.x or greater
   v1.0.0-5-g42981dd

*/
!function(){var e=function(e){e(function(n,t){function o(){a.find(".fp-speed-menu",t).forEach(a.removeNode),a.find(".fp-speed",t).forEach(a.removeNode)}function d(e){return Math.round(100*e)/100}function p(){c.appendChild(a.createElement("strong",{className:"fp-speed"},n.currentSpeed+"x"));var e=a.createElement("div",{className:"fp-menu fp-speed-menu",css:{width:"auto"}},"<strong>Speed</strong>");l.forEach(function(n){var t=a.createElement("a",{"data-speed":d(n)},d(n)+"x");e.appendChild(t)}),s.appendChild(e),f(n.currentSpeed)}function f(e){a.find(".fp-speed",t)[0].innerHTML=e+"x",a.find(".fp-speed-menu a",t).forEach(function(n){a.toggleClass(n,"fp-selected",n.getAttribute("data-speed")==e),a.toggleClass(n,"fp-color",n.getAttribute("data-speed")==e)})}var r=e.support;if(r.video&&r.inlineVideo){var a=e.common,i=e.bean,s=a.find(".fp-ui",t)[0],c=a.find(".fp-controls",s)[0],u=1,l=n.conf.speeds;i.on(t,"click",".fp-speed",function(){var e=a.find(".fp-speed-menu",t)[0];a.hasClass(e,"fp-active")?n.hideMenu():n.showMenu(e)}),i.on(t,"click",".fp-speed-menu a",function(e){var t=e.target.getAttribute("data-speed");n.speed(t)}),n.on("speed",function(e,n,t){l.length>1&&f(t)}).on("ready",function(e,n){o(),l=n.conf.speeds,l.length>1&&p()}).on("beforeresume",function(e,n){u=n.currentSpeed}).on("resume",function(e,n){n.currentSpeed!==u&&n.speed(u)})}})};"object"==typeof module&&module.exports?module.exports=e:"function"==typeof window.flowplayer&&e(window.flowplayer)}();