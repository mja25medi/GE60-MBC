<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Expires" content="-1" />
    <meta http-equiv="Pragma" content="No-Cache" />
    <meta http-equiv="Cache-Control" content="No-Cache" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
    <meta http-equiv="Content-type" content="text/html; charset=UTF-8" />

    <title>MONACO EDITOR</title>

    <link rel="stylesheet" type="text/css" href="/libs/monacoeditor/min/vs/editor/editor.main.css"/>
    <script src="/js/jquery/jquery-1.11.1.min.js" type="text/javascript" charset="utf-8"></script>
    <!-- <script src="/res/lia/lia.all.js" type="text/javascript" charset="utf-8"></script> -->

    <style type="text/css" media="screen">
        #editor {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
        }

        body {
            overflow: hidden;
        }

        #wrapper {
            width:100%;
            height:100%;
        }

        iframe {
            width:100%;
            height:100% !important;
        }
    </style>

</head>
<!-- <body>

<div id="editor">
</div>

<script src="/libs/monacoeditor/min/vs/loader.js"></script>
<script>



    var inited = true;
    var initialValue = undefined;
    var editor = undefined;
    require.config({ paths: { 'vs': '/libs/monacoeditor/min/vs' }});

    require(['vs/editor/editor.main'], function() {

        editor = monaco.editor.create(document.getElementById('editor'), {
            value: '',
            theme: "vs-dark",
            language: mode
        });
    });



    window.onresize = function () {
        editor.layout();
    };

    function setEditorValue(value) {

        if ( inited == true ) {

            editor.getModel().setValue(value);

        } else {
            initialValue = value;
        }
    }


    function getEditorValue() {

        if ( !inited ) {
            return initialValue;
        }

        return editor.getModel().getValue();
    }

</script>



   editor.renderer.on('afterRender', function() {

       inited = true;

       if ( initialValue != undefined ) {
           setEditorValue(initialValue);
           initialValue = undefined;
       }
   });





</script>

</body> -->
 <body>
        <div id="monaco_editor" style="height:400px">
        </div>

        <!-- MONACO JS -->
        <script>var require = { paths: { 'vs': '/libs/monacoeditor/min/vs' } };</script>

        <script src="/libs/monacoeditor/min/vs/loader.js"></script>
        <script src="/libs/monacoeditor/min/vs/editor/editor.main.nls.js"></script>
        <script src="/libs/monacoeditor/min/vs/editor/editor.main.js"></script>

        <script>
        
        var Request = function() {  
            this.getParameter = function(name) {  
                var rtnval = '';  
                var nowAddress = unescape(location.href);  
                var parameters = (nowAddress.slice(nowAddress.indexOf('?') + 1,  
                        nowAddress.length)).split('&');  
                for (var i = 0; i < parameters.length; i++) {  
                    var varName = parameters[i].split('=')[0];  
                    if (varName.toUpperCase() == name.toUpperCase()) {  
                        rtnval = parameters[i].split('=')[1];  
                        break;  
                    }  
                }  
                return rtnval;  
            }  
        }  
        var request = new Request();  
        
        var language = request.getParameter('language');
        //alert("language : "+language);
        var codes = "";
        
        if(language == 'javascript'){
        	codes = 'function hello() {',
        	codes += '\n	console.log("Hello world!");',
        	codes += '\n}';
        } else if (language == 'java'){
        	codes = 'System.out.println("Hello world!")';
        }
        	
        
        // CREATE AN EDITOR
        var h_div = document.getElementById('monaco_editor');
        var editor = monaco.editor.create(h_div, {
            value: [
              //  'function x() {',
              //  '\tconsole.log("Hello world!");',
              //  '}'
              codes
            ].join('\n'),
            theme: "vs-dark",
            language: language
        });
        
        
        </script>
    </body>

</html>